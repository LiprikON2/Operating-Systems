# Лабораторная работа 1
> Рейнгеверц В.А. - K33401
>


### Задание 1
> `hello.sh`

1. Заменить путь к интерпретатору bash в приведенном выше
сценарии на следующий: “#!/usr/bin/rm”, после чего запустите скрипт. Что
произойдет? Объясните результат.
2. Напишите сценарий “hello.sh”, который будет выводить пользователю
приветствие в виде “Hello, Username”, где “Username” имя вашего пользователя. 
```sh
#!/usr/bin/rm

echo "Hey, $USER" # Output: "Hey, "

TRUE_USER=$(whoami)
echo "Hey, ${TRUE_USER}" # Output: "Hey, user"
```

Запуск
```sh
bash hello.sh
```

![](https://i.imgur.com/7PA9Rks.gif)


#### 1.1
Замена пути к интерпретарору с `#!/usr/bin/bash` на `#!/usr/bin/sh` и даже удаление этой строки ничего не изменило. (Все сработало нормально)
Вероятно это связанно с моей средой (wsl2 на windows), и его путь берется откуда-то из другого места.

#### 1.2
Переменная `$USER` оказалась пуста, однако мне удалось его получить захваченной коммандой `whoami` (мой username – user)

### Задание 2
> `backup.sh`

Напишите сценарий “backup.sh”, который будет создавать копию
всех файлов в текущем каталоге (добавляя к имени каждого создаваемого файла
расширение bak). После выполнения сценария, добавьте в каталог несколько
новых файлов и убедитесь, что после повторного запуска сценария копии будут
созданы только для тех файлов, которые не имеют расширение bak.


```sh
#!/usr/bin/bash

# All files without `.bak` extensions
files=$(find . -maxdepth 1 -type f -not -name "*.bak")

for file in $files; do
    backup_file="${file}.bak"
    touch $backup_file

    cp $file $backup_file
done
```

![](https://i.imgur.com/7PA9Rks.gif)

### Задание 3
> `trash.sh`

Написать bash-скрипт с именем «trash.sh», который будет
имитировать присутствие корзины в системе. Ваш скрипт должен принимать
произвольное число аргументов, указывающих на файлы и директории, которые
должны быть перемещены в корзину. Корзина должна создаваться в домашней
директории пользователя, от имени которого запущен скрипт, с именем «.trash».

Должны быть реализованы следующие опции:
1. -h — вывод справки по работе со скриптом;
2. -e — очистить корзину;
3. -l — вывести содержимое корзины;
4. -r filename — восстановить из корзины файл с именем «filename» в
текущую директорию (подумайте о возможности восстанавливать файл в
указанную пользователем директорию).

Следует предусмотреть обработку ситуации, когда имя файла,
перемещаемого в корзину, совпадает с именем файла, уже присутствующего в
корзине, но при этом файл все равно должен быть перемещен, а файл,
находившийся в корзине, не должен быть затерт/заменен.

![](https://i.imgur.com/JzejpPI.gif)